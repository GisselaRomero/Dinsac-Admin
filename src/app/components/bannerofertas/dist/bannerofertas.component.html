<div class="banner-container">

  <h2>ğŸ“¤ Subir Banner</h2>
  <p class="subtext">
    Selecciona el tipo de banner y sube una imagen en formato JPG o PNG.
  </p>

  <!-- Selector de tipo de banner -->
  <div class="banner-type">
    
    <!-- Banner para pÃ¡gina de Ofertas (individual) -->
    <label>
      <input type="radio" name="tipoBanner" [(ngModel)]="tipoBanner" value="principal">
      ğŸ¯ Banner Principal (PÃ¡gina Ofertas)
    </label>

    <!-- Banner para secciÃ³n ofertas en Home (individual) -->
    <label>
      <input type="radio" name="tipoBanner" [(ngModel)]="tipoBanner" value="ofertasHome">
      ğŸ·ï¸ Banner Ofertas Home
    </label>

    <!-- Carrusel del Home (mÃºltiple - hasta 3) -->
    <label>
      <input type="radio" name="tipoBanner" [(ngModel)]="tipoBanner" value="carrusel">
      ğŸ  Carrusel Home (3 imÃ¡genes)
    </label>

  </div>

  <!-- Mensaje informativo -->
  <div class="info-box" *ngIf="tipoBanner">
    <p *ngIf="tipoBanner === 'principal'">
      ğŸ“ Este banner aparecerÃ¡ en la pÃ¡gina de Ofertas (arriba de los productos)
    </p>
    <p *ngIf="tipoBanner === 'ofertasHome'">
      ğŸ“ Este banner aparecerÃ¡ en la secciÃ³n "Ofertas Destacadas" del Home
    </p>
    <p *ngIf="tipoBanner === 'carrusel'">
      ğŸ“ Estas 3 imÃ¡genes formarÃ¡n el carrusel principal del Home
    </p>
  </div>

  <!-- ========== PARA BANNERS INDIVIDUALES (principal y ofertasHome) ========== -->
  <div *ngIf="tipoBanner !== 'carrusel'">
    <input 
      type="file" 
      accept="image/*" 
      (change)="onFileSelected($event)" 
      class="file-input"
    />

    <!-- Vista previa individual -->
    <div class="preview" *ngIf="previewUrl">
      <img [src]="previewUrl" alt="Vista previa">
    </div>

    <!-- BotÃ³n de subir individual -->
    <button class="btn-upload" (click)="subirBanner()" [disabled]="!selectedFile">
      Subir Banner
    </button>
  </div>

  <!-- ========== PARA CARRUSEL (3 INPUTS SEPARADOS) ========== -->
  <div *ngIf="tipoBanner === 'carrusel'" class="carrusel-upload">
    
    <!-- IMAGEN 1 -->
    <div class="carrusel-item">
      <label class="carrusel-label">
        <span class="carrusel-number">ğŸ–¼ï¸ Imagen 1</span>
        <input 
          type="file" 
          accept="image/*" 
          (change)="onCarruselFileSelected($event, 0)" 
          class="file-input-carrusel"
        />
      </label>
      
      <div class="preview-carrusel" *ngIf="carruselPreviews[0]">
        <img [src]="carruselPreviews[0]" alt="Preview 1">
        <button class="btn-remove-small" (click)="eliminarImagenCarrusel(0)">âœ•</button>
      </div>
    </div>

    <!-- IMAGEN 2 -->
    <div class="carrusel-item">
      <label class="carrusel-label">
        <span class="carrusel-number">ğŸ–¼ï¸ Imagen 2</span>
        <input 
          type="file" 
          accept="image/*" 
          (change)="onCarruselFileSelected($event, 1)" 
          class="file-input-carrusel"
        />
      </label>
      
      <div class="preview-carrusel" *ngIf="carruselPreviews[1]">
        <img [src]="carruselPreviews[1]" alt="Preview 2">
        <button class="btn-remove-small" (click)="eliminarImagenCarrusel(1)">âœ•</button>
      </div>
    </div>

    <!-- IMAGEN 3 -->
    <div class="carrusel-item">
      <label class="carrusel-label">
        <span class="carrusel-number">ğŸ–¼ï¸ Imagen 3</span>
        <input 
          type="file" 
          accept="image/*" 
          (change)="onCarruselFileSelected($event, 2)" 
          class="file-input-carrusel"
        />
      </label>
      
      <div class="preview-carrusel" *ngIf="carruselPreviews[2]">
        <img [src]="carruselPreviews[2]" alt="Preview 3">
        <button class="btn-remove-small" (click)="eliminarImagenCarrusel(2)">âœ•</button>
      </div>
    </div>

    <!-- Contador de imÃ¡genes seleccionadas -->
    <div class="file-count" *ngIf="contarImagenesCarrusel() > 0">
      <p>ğŸ“Š {{contarImagenesCarrusel()}} de 3 imÃ¡genes seleccionadas</p>
    </div>

    <!-- BotÃ³n de subir todas -->
    <button 
      class="btn-upload" 
      (click)="subirCarrusel()" 
      [disabled]="contarImagenesCarrusel() === 0"
    >
      Subir {{contarImagenesCarrusel()}} imagen(es) al Carrusel
    </button>
  </div>

  <!-- Mensaje -->
  <p class="mensaje" [class.success]="mensaje.includes('âœ…')" [class.error]="mensaje.includes('âŒ')" *ngIf="mensaje">
    {{ mensaje }}
  </p>

</div>